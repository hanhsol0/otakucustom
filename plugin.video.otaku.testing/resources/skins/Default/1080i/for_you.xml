<!--
╔═══════════════════════════════════════════════════════════════════════════╗
║                         FOR YOU WINDOW - SPLIT LAYOUT                      ║
║                                                                           ║
║  Left: Large info panel (title, plot, ratings)                            ║
║  Right: 3x2 poster grid with filter toggle above                          ║
╚═══════════════════════════════════════════════════════════════════════════╝
-->

<window type="dialog">
    <defaultcontrol>100</defaultcontrol>
    <coordinates>
        <left>0</left>
        <top>0</top>
    </coordinates>
    <controls>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- BACKGROUND LAYERS                                                -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <control type="image">
            <texture>white.png</texture>
            <colordiffuse>FF000000</colordiffuse>
        </control>

        <!-- Fanart background (updates based on focused item) -->
        <control type="image">
            <top>0</top>
            <left>0</left>
            <width>1920</width>
            <height>1080</height>
            <texture background="true" fallback="$INFO[Window().Property(otaku.fanart)]">$INFO[Container(1000).ListItem.Property(fanart)]</texture>
            <animation effect="fade" time="400">VisibleChange</animation>
        </control>

        <!-- Dark overlay -->
        <control type="image">
            <top>0</top>
            <left>0</left>
            <width>1920</width>
            <height>1080</height>
            <texture>white.png</texture>
            <colordiffuse>DD000000</colordiffuse>
        </control>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- LEFT SIDE: INFO PANEL                                            -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <!-- Semi-transparent background for info panel -->
        <control type="image">
            <left>30</left>
            <top>70</top>
            <width>580</width>
            <height>940</height>
            <texture>white.png</texture>
            <colordiffuse>88000000</colordiffuse>
        </control>

        <!-- Large Poster -->
        <control type="image">
            <left>50</left>
            <top>90</top>
            <width>180</width>
            <height>260</height>
            <texture fallback="DefaultVideo.png">$INFO[Container(1000).ListItem.Property(poster)]</texture>
            <aspectratio>scale</aspectratio>
        </control>

        <!-- Movie/TV badge on poster -->
        <control type="image">
            <visible>String.IsEqual(Container(1000).ListItem.Property(media_type),movie)</visible>
            <left>50</left>
            <top>90</top>
            <width>50</width>
            <height>22</height>
            <texture>white.png</texture>
            <colordiffuse>FFFF6B6B</colordiffuse>
        </control>
        <control type="label">
            <visible>String.IsEqual(Container(1000).ListItem.Property(media_type),movie)</visible>
            <left>50</left>
            <top>90</top>
            <width>50</width>
            <height>22</height>
            <font>font10</font>
            <textcolor>FFFFFFFF</textcolor>
            <align>center</align>
            <aligny>center</aligny>
            <label>MOVIE</label>
        </control>

        <!-- TV badge -->
        <control type="image">
            <visible>!String.IsEqual(Container(1000).ListItem.Property(media_type),movie)</visible>
            <left>50</left>
            <top>90</top>
            <width>30</width>
            <height>22</height>
            <texture>white.png</texture>
            <colordiffuse>FF4da6ff</colordiffuse>
        </control>
        <control type="label">
            <visible>!String.IsEqual(Container(1000).ListItem.Property(media_type),movie)</visible>
            <left>50</left>
            <top>90</top>
            <width>30</width>
            <height>22</height>
            <font>font10</font>
            <textcolor>FFFFFFFF</textcolor>
            <align>center</align>
            <aligny>center</aligny>
            <label>TV</label>
        </control>

        <!-- Title -->
        <control type="label">
            <left>245</left>
            <top>90</top>
            <width>350</width>
            <height>30</height>
            <font>font14</font>
            <textcolor>FFFFFFFF</textcolor>
            <align>left</align>
            <scroll>true</scroll>
            <label>[B]$INFO[Container(1000).ListItem.Property(release_title)][/B]</label>
        </control>

        <!-- Year | Episodes | Status -->
        <control type="label">
            <left>245</left>
            <top>122</top>
            <width>350</width>
            <height>20</height>
            <font>font10</font>
            <textcolor>88FFFFFF</textcolor>
            <align>left</align>
            <label>$INFO[Container(1000).ListItem.Property(year)] | $INFO[Container(1000).ListItem.Property(episodes)] eps</label>
        </control>

        <!-- Status -->
        <control type="label">
            <left>245</left>
            <top>142</top>
            <width>350</width>
            <height>20</height>
            <font>font10</font>
            <textcolor>88FFFFFF</textcolor>
            <align>left</align>
            <label>$INFO[Container(1000).ListItem.Property(status)]</label>
        </control>

        <!-- Genres -->
        <control type="label">
            <left>245</left>
            <top>165</top>
            <width>350</width>
            <height>40</height>
            <font>font10</font>
            <textcolor>FF4da6ff</textcolor>
            <align>left</align>
            <label>$INFO[Container(1000).ListItem.Property(genres)]</label>
        </control>

        <!-- AniList Score -->
        <control type="image">
            <left>245</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <texture>white.png</texture>
            <colordiffuse>FF4da6ff</colordiffuse>
        </control>
        <control type="label">
            <left>245</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <font>font14</font>
            <textcolor>FFFFFFFF</textcolor>
            <align>center</align>
            <aligny>center</aligny>
            <label>[B]$INFO[Container(1000).ListItem.Property(rating)][/B]</label>
        </control>
        <control type="label">
            <left>237</left>
            <top>250</top>
            <width>86</width>
            <height>16</height>
            <font>font10</font>
            <textcolor>88FFFFFF</textcolor>
            <align>center</align>
            <label>AniList</label>
        </control>

        <!-- MAL Score -->
        <control type="image">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_mal))</visible>
            <left>325</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <texture>white.png</texture>
            <colordiffuse>FF2E51A2</colordiffuse>
        </control>
        <control type="label">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_mal))</visible>
            <left>325</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <font>font14</font>
            <textcolor>FFFFFFFF</textcolor>
            <align>center</align>
            <aligny>center</aligny>
            <label>[B]$INFO[Container(1000).ListItem.Property(rating_mal)][/B]</label>
        </control>
        <control type="label">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_mal))</visible>
            <left>325</left>
            <top>250</top>
            <width>70</width>
            <height>16</height>
            <font>font10</font>
            <textcolor>88FFFFFF</textcolor>
            <align>center</align>
            <label>MAL</label>
        </control>

        <!-- IMDB Score -->
        <control type="image">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_imdb))</visible>
            <left>405</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <texture>white.png</texture>
            <colordiffuse>FFF5C518</colordiffuse>
        </control>
        <control type="label">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_imdb))</visible>
            <left>405</left>
            <top>210</top>
            <width>70</width>
            <height>38</height>
            <font>font14</font>
            <textcolor>FF000000</textcolor>
            <align>center</align>
            <aligny>center</aligny>
            <label>[B]$INFO[Container(1000).ListItem.Property(rating_imdb)][/B]</label>
        </control>
        <control type="label">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rating_imdb))</visible>
            <left>405</left>
            <top>250</top>
            <width>70</width>
            <height>16</height>
            <font>font10</font>
            <textcolor>88FFFFFF</textcolor>
            <align>center</align>
            <label>IMDB</label>
        </control>

        <!-- Recommendation count -->
        <control type="label">
            <visible>!String.IsEmpty(Container(1000).ListItem.Property(rec_count))</visible>
            <left>245</left>
            <top>275</top>
            <width>350</width>
            <height>20</height>
            <font>font10</font>
            <textcolor>FF4da6ff</textcolor>
            <align>left</align>
            <label>From $INFO[Container(1000).ListItem.Property(rec_count)] of your anime</label>
        </control>

        <!-- Plot description -->
        <control type="textbox">
            <left>50</left>
            <top>365</top>
            <width>540</width>
            <height>620</height>
            <font>font12</font>
            <textcolor>CCFFFFFF</textcolor>
            <align>left</align>
            <autoscroll delay="5000" time="2500" repeat="5000"></autoscroll>
            <label>$INFO[Container(1000).ListItem.Property(plot)]</label>
        </control>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- RIGHT SIDE: FILTER + POSTER GRID                                 -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <control type="group">
            <left>620</left>
            <top>30</top>
            <width>1280</width>
            <height>1020</height>

            <!-- Header: Title + Filter Toggle -->
            <control type="group">
                <left>0</left>
                <top>0</top>
                <width>1280</width>
                <height>50</height>

                <!-- Title -->
                <control type="label">
                    <left>0</left>
                    <top>5</top>
                    <width>200</width>
                    <height>40</height>
                    <font>font30</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <align>left</align>
                    <label>[B]For You[/B]</label>
                </control>

                <!-- Filter Toggle -->
                <control type="group">
                    <left>250</left>
                    <top>0</top>
                    <width>500</width>
                    <height>50</height>

                    <!-- Background pill -->
                    <control type="image">
                        <left>0</left>
                        <top>2</top>
                        <width>420</width>
                        <height>42</height>
                        <texture border="21">white.png</texture>
                        <colordiffuse>33FFFFFF</colordiffuse>
                    </control>

                    <!-- TV Shows Button -->
                    <control type="button" id="100">
                        <left>5</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>AAFFFFFF</textcolor>
                        <focusedcolor>FFFFFFFF</focusedcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>TV Shows</label>
                        <onleft>102</onleft>
                        <onright>101</onright>
                        <ondown>1000</ondown>
                        <texturefocus border="16">$INFO[Window().Property(texture.white)]</texturefocus>
                        <texturenofocus>-</texturenofocus>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>

                    <!-- Movies Button -->
                    <control type="button" id="101">
                        <left>145</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>AAFFFFFF</textcolor>
                        <focusedcolor>FFFFFFFF</focusedcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>Movies</label>
                        <onleft>100</onleft>
                        <onright>102</onright>
                        <ondown>1000</ondown>
                        <texturefocus border="16">$INFO[Window().Property(texture.white)]</texturefocus>
                        <texturenofocus>-</texturenofocus>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>

                    <!-- All Button -->
                    <control type="button" id="102">
                        <left>285</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>AAFFFFFF</textcolor>
                        <focusedcolor>FFFFFFFF</focusedcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>All</label>
                        <onleft>101</onleft>
                        <onright>100</onright>
                        <ondown>1000</ondown>
                        <texturefocus border="16">$INFO[Window().Property(texture.white)]</texturefocus>
                        <texturenofocus>-</texturenofocus>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>

                    <!-- Active indicators -->
                    <control type="image">
                        <visible>String.IsEqual(Window().Property(filter.active),tv)</visible>
                        <left>5</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <texture border="16">white.png</texture>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>
                    <control type="label">
                        <visible>String.IsEqual(Window().Property(filter.active),tv)</visible>
                        <left>5</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>[B]TV Shows[/B]</label>
                    </control>

                    <control type="image">
                        <visible>String.IsEqual(Window().Property(filter.active),movie)</visible>
                        <left>145</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <texture border="16">white.png</texture>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>
                    <control type="label">
                        <visible>String.IsEqual(Window().Property(filter.active),movie)</visible>
                        <left>145</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>[B]Movies[/B]</label>
                    </control>

                    <control type="image">
                        <visible>String.IsEqual(Window().Property(filter.active),all)</visible>
                        <left>285</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <texture border="16">white.png</texture>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>
                    <control type="label">
                        <visible>String.IsEqual(Window().Property(filter.active),all)</visible>
                        <left>285</left>
                        <top>7</top>
                        <width>130</width>
                        <height>32</height>
                        <font>font12</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>[B]All[/B]</label>
                    </control>
                </control>

                <!-- Item count -->
                <control type="label">
                    <left>1000</left>
                    <top>10</top>
                    <width>280</width>
                    <height>30</height>
                    <font>font12</font>
                    <textcolor>55FFFFFF</textcolor>
                    <align>right</align>
                    <label>$INFO[Window().Property(item.count)]</label>
                </control>
            </control>

            <!-- ─────────────────────────────────────────────────────────── -->
            <!-- POSTER GRID: 3 columns x 2 rows (6 posters per screen)       -->
            <!-- ─────────────────────────────────────────────────────────── -->

            <control type="panel" id="1000">
                <left>0</left>
                <top>60</top>
                <width>1280</width>
                <height>960</height>
                <onup>100</onup>
                <ondown>1000</ondown>
                <onleft>1000</onleft>
                <onright>1000</onright>
                <orientation>vertical</orientation>
                <scrolltime tween="sine" easing="out">200</scrolltime>
                <pagecontrol>-</pagecontrol>

                <!-- Unfocused poster with title below - 3 COLUMNS LAYOUT -->
                <itemlayout height="470" width="400">
                    <!-- Poster shadow -->
                    <control type="image">
                        <left>12</left>
                        <top>12</top>
                        <width>376</width>
                        <height>390</height>
                        <texture>white.png</texture>
                        <colordiffuse>33FFFFFF</colordiffuse>
                    </control>

                    <!-- Poster -->
                    <control type="image">
                        <left>10</left>
                        <top>10</top>
                        <width>380</width>
                        <height>394</height>
                        <texture fallback="DefaultVideo.png">$INFO[ListItem.Property(poster)]</texture>
                        <aspectratio>scale</aspectratio>
                    </control>

                    <!-- Movie badge -->
                    <control type="image">
                        <visible>String.IsEqual(ListItem.Property(media_type),movie)</visible>
                        <left>320</left>
                        <top>18</top>
                        <width>60</width>
                        <height>24</height>
                        <texture>white.png</texture>
                        <colordiffuse>EEFF6B6B</colordiffuse>
                    </control>
                    <control type="label">
                        <visible>String.IsEqual(ListItem.Property(media_type),movie)</visible>
                        <left>320</left>
                        <top>18</top>
                        <width>60</width>
                        <height>24</height>
                        <font>font10</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>MOVIE</label>
                    </control>

                    <!-- Title below poster -->
                    <control type="label">
                        <left>10</left>
                        <top>410</top>
                        <width>380</width>
                        <height>28</height>
                        <font>font13</font>
                        <textcolor>AAFFFFFF</textcolor>
                        <align>center</align>
                        <label>$INFO[ListItem.Property(release_title)]</label>
                    </control>

                    <!-- Year below title -->
                    <control type="label">
                        <left>10</left>
                        <top>438</top>
                        <width>380</width>
                        <height>22</height>
                        <font>font11</font>
                        <textcolor>55FFFFFF</textcolor>
                        <align>center</align>
                        <label>$INFO[ListItem.Property(year)]</label>
                    </control>
                </itemlayout>

                <!-- Focused poster: Blue glow border with title - 3 COLUMNS LAYOUT -->
                <focusedlayout height="470" width="400">
                    <!-- Glow effect -->
                    <control type="image">
                        <left>0</left>
                        <top>0</top>
                        <width>400</width>
                        <height>414</height>
                        <texture>white.png</texture>
                        <colordiffuse>FF4da6ff</colordiffuse>
                    </control>

                    <!-- Poster -->
                    <control type="image">
                        <left>10</left>
                        <top>10</top>
                        <width>380</width>
                        <height>394</height>
                        <texture fallback="DefaultVideo.png">$INFO[ListItem.Property(poster)]</texture>
                        <aspectratio>scale</aspectratio>
                    </control>

                    <!-- Movie badge -->
                    <control type="image">
                        <visible>String.IsEqual(ListItem.Property(media_type),movie)</visible>
                        <left>320</left>
                        <top>18</top>
                        <width>60</width>
                        <height>24</height>
                        <texture>white.png</texture>
                        <colordiffuse>FFFF6B6B</colordiffuse>
                    </control>
                    <control type="label">
                        <visible>String.IsEqual(ListItem.Property(media_type),movie)</visible>
                        <left>320</left>
                        <top>18</top>
                        <width>60</width>
                        <height>24</height>
                        <font>font10</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <aligny>center</aligny>
                        <label>MOVIE</label>
                    </control>

                    <!-- Title below poster -->
                    <control type="label">
                        <left>10</left>
                        <top>420</top>
                        <width>380</width>
                        <height>28</height>
                        <font>font13</font>
                        <textcolor>FFFFFFFF</textcolor>
                        <align>center</align>
                        <label>[B]$INFO[ListItem.Property(release_title)][/B]</label>
                    </control>

                    <!-- Year below title -->
                    <control type="label">
                        <left>10</left>
                        <top>448</top>
                        <width>380</width>
                        <height>22</height>
                        <font>font11</font>
                        <textcolor>88FFFFFF</textcolor>
                        <align>center</align>
                        <label>$INFO[ListItem.Property(year)]</label>
                    </control>
                </focusedlayout>
            </control>
        </control>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- EMPTY STATE                                                       -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <control type="group">
            <visible>String.IsEqual(Window().Property(item.count),0 titles)</visible>
            <left>620</left>
            <top>400</top>
            <width>1280</width>
            <height>200</height>

            <control type="label">
                <left>0</left>
                <top>0</top>
                <width>1280</width>
                <height>40</height>
                <font>font16</font>
                <textcolor>88FFFFFF</textcolor>
                <align>center</align>
                <label>No recommendations found</label>
            </control>
            <control type="label">
                <left>0</left>
                <top>50</top>
                <width>1280</width>
                <height>30</height>
                <font>font12</font>
                <textcolor>55FFFFFF</textcolor>
                <align>center</align>
                <label>Connect a watchlist and rate some anime</label>
            </control>
        </control>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- LOADING INDICATOR                                                 -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <control type="group">
            <visible>String.IsEqual(Window().Property(loading),true)</visible>
            <left>0</left>
            <top>0</top>
            <width>1920</width>
            <height>1080</height>

            <control type="image">
                <width>1920</width>
                <height>1080</height>
                <texture>white.png</texture>
                <colordiffuse>EE000000</colordiffuse>
            </control>

            <control type="label">
                <left>0</left>
                <top>500</top>
                <width>1920</width>
                <height>40</height>
                <font>font16</font>
                <textcolor>FFFFFFFF</textcolor>
                <align>center</align>
                <label>Loading recommendations...</label>
            </control>
        </control>

    </controls>
</window>
